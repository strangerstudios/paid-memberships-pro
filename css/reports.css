/* Temporary home for new reports CSS */

.pmpro_admin-pmpro-reports #posts-filter {
	margin-top: var(--pmpro--spacing--small);
}

/* New Chart.js Area Styles */
.chart-features {
	width: 100%;
	display: flex;
	flex-wrap: wrap;
	gap: 1%;
	justify-items: center;
	margin: var(--pmpro--spacing--small) 0;
}

.chart-feature {
	border-radius: 4px;
	background-color: var(--pmpro--color--blue-lightest);
	border: 1px solid var(--pmpro--border--color);
	text-align: center;
	justify-content: center;
	/* align content in the vertical center */
	display: flex;
	flex-direction: column;
	justify-items: center;
	align-items: center;
	flex: 1 0 20%;
	min-width: 120px;
	min-height: 120px;
}

.pmpro_chart_area {
	background-color: #FFF;
	border: 1px solid var(--pmpro--border--color);
	border-radius: var(--pmpro--border--radius);
	box-shadow: var(--pmpro--box-shadow);
	margin: var(--pmpro--spacing--medium) 0;
	padding: 0 var(--pmpro--spacing--medium);
}

.pmpro_chart_area canvas {
	margin: var(--pmpro--spacing--small) auto;
	max-width: 100%;
}

/* Stabilize Chart.js canvas sizing to avoid resize loops */
.pmpro_chart_area .pmpro-chart-container {
	contain: layout paint size;
	height: 450px; /* keep chart height stable */
	position: relative;
	width: 100%;
}
.pmpro_chart_area .pmpro-chart-container > canvas {
	display: block;
	height: 100%;
	width: 100%;
	overflow: visible;
}

/**
 * Reports admin area
 */
.pmpro_admin-pmpro-reports #dashboard-widgets .meta-box-sortables {
	margin: 20px 8px 20px;
}

.pmpro_report-filters {
	align-items: start;
	display: flex;
	flex-direction: column;
	flex-wrap: nowrap;
	gap: var(--pmpro--spacing--small);
	margin: 0;
}

.pmpro_report-filters h3 {
	margin: 0;
	padding: 0;
}

.pmpro_report-filters .tablenav.top  {
	display: flex;
	align-items: flex-start;
	flex-direction: column;
	gap: 3px;
	height: auto;
	margin: 0;
	padding: 0;
}

/* Make all controls full-width and stacked nicely */
.pmpro_report-filters .tablenav.top select,
.pmpro_report-filters .tablenav.top input[type="date"],
.pmpro_report-filters .tablenav.top .select2-container {
	width: 100% !important;
}

/* Select2 appearance: match native selects and handle multiple selections */
.pmpro_report-filters .select2-container--default .select2-selection--single,
.pmpro_report-filters .select2-container--default .select2-selection--multiple {
	border: 1px solid #8c8f94;
	border-radius: var(--pmpro--border--radius, 4px);
	color: #2c3338;
	background-color: #fff;
}
.pmpro_report-filters .select2-container--default .select2-selection--single {
	height: 30px;
	display: flex;
	align-items: center;
	/* padding: 0 10px; */
}
.pmpro_report-filters .select2-container--default .select2-selection--single .select2-selection__rendered {
	line-height: 1.4;
	color: #2c3338;
	padding-left: 0;
}
.pmpro_report-filters .select2-container--default .select2-selection--single .select2-selection__placeholder {
	color: #2c3338;
	opacity: .85;
}
.pmpro_report-filters .select2-container--default .select2-selection--single .select2-selection__arrow {
	height: 100%;
	right: 8px;
}
.pmpro_report-filters .select2-container--default .select2-selection--multiple {
	min-height: 40px;
	/* padding: 4px 8px; */
}
.pmpro_report-filters .select2-container--default .select2-selection--multiple .select2-selection__rendered {
	display: block;
	margin: 0;
	padding: 0;
}
.pmpro_report-filters .select2-container--default .select2-selection--multiple .select2-selection__choice {
	display: block;
	/* width: 100%; */
	/* margin: 4px 0 0 0; */
	/* padding: 6px 8px; */
	background: #f6f7f7;
	border: 1px solid #c3c4c7;
	border-radius: 4px;
	color: #2c3338;
}
.pmpro_report-filters .select2-container--default .select2-selection--multiple .select2-selection__choice__remove {
	float: right;
	margin-left: 8px;
	color: #50575e;
}
.pmpro_report-filters .select2-container--default .select2-selection--multiple .select2-search--inline .select2-search__field {
	/* width: 100% !important; */
	min-height: 28px;
	/* margin-top: 6px; */
}
.pmpro_report-filters .select2-container--default.select2-container--focus .select2-selection--multiple,
.pmpro_report-filters .select2-container--default.select2-container--open .select2-selection--single,
.pmpro_report-filters .select2-container--default .select2-selection--single:focus {
	border-color: #2271b1;
	box-shadow: 0 0 0 1px #2271b1;
	outline: 2px solid transparent;
}

.pmpro_report-filters .select2-selection__rendered li {
	display: inline-block !important;
	width: calc(100% - 15px);
	margin: 0 2px;
}

/* Ensure label text spans occupy their own line, and have breathing room */
.pmpro_report-filters .tablenav.top .pmpro_report-filter-text {
	display: block;
	line-height: 1.4;
	margin-top: var(--pmpro--spacing--small);
	margin-bottom: var(--pmpro--spacing--small);
}

/* Generate Report button: make full-width and anchor toward bottom */
.pmpro_report-filters input[type="submit"].button {
	justify-self: start;
    margin-top: var(--pmpro--spacing--medium);
}

/* Big screens */
@media only screen and (min-width: 1500px) {
    #wpbody-content .pmpro_admin-pmpro-reports #dashboard-widgets .postbox-container {
        width: 50%
    }

    #wpbody-content .pmpro_admin-pmpro-reports #dashboard-widgets #postbox-container-1 {
        width: 50%;
    }
}

/* Small screens */
@media screen and (max-width: 767px) {
	/* Add the box, border and white background on mobile */
	.pmpro_report-filters {
		background-color: #FFF;
		border: 1px solid var(--pmpro--border--color);
		border-radius: var(--pmpro--border--radius);
		box-shadow: var(--pmpro--box-shadow);
	}

	/* Change the flow to  */
	.pmpro_report-filters .tablenav.top  {
		align-items: stretch;
		display: flex;
		flex-direction: row;
		gap: var(--pmpro--spacing--small);
		height: auto;
		margin: 0;
		padding: 0;
	}
}


/* Reports individual page view styles */
#visits-views-logins-form {
	margin-top: var(--pmpro--spacing--medium);
}

#visits-views-logins-form h1.wp-heading-inline {
	margin-top: 0;
}

#pmpro_report_login_data thead tr th {
	background-color: #1A688B;
	color: #FFF;
	font-weight: bold;
}
#pmpro_report_login_data thead tr.thead-sub th {
	background-color: initial;
	color: initial;
	font-size: 12px;
	font-weight: normal;
	word-spacing: 100vw;
}
#pmpro_report_login_data thead th,
#pmpro_report_login_data tbody td {
	padding-left: 4px;
	padding-right: 4px;
}

/* Reports widgets view styles */
.pmpro_report-holder table.wp-list-table thead th,
.pmpro_report-holder table.wp-list-table tbody td {
	padding: 8px 10px;
}

.pmpro_clickable {
	cursor: pointer;
}

.js .postbox.pmpro_clickable h3 {
	cursor: pointer;
}

#pmpro_report_login .wp-list-table tbody td,
#pmpro_report_memberships .wp-list-table tbody tr.pmpro_report_tr td,
#pmpro_report_sales .wp-list-table tbody tr.pmpro_report_tr td:not(#pmpro_report_sales .wp-list-table tbody tr.pmpro_report_tr td:first-child),
#pmpro_report_sales .wp-list-table tfoot td {
	vertical-align: top;
}

#pmpro_report_sales .wp-list-table thead th:last-child,
#pmpro_report_sales .wp-list-table tbody td:last-child,
#pmpro_report_sales .wp-list-table tfoot td:last-child {
	text-align: right;
}

.pmpro_report-holder .wp-list-table tbody th {
	vertical-align: top;
}

.pmpro_report-holder .wp-list-table tbody button {
	border: none;
	background: 0 0;
	-webkit-border-radius: 0;
	border-radius: 0;
	color: #555;
	cursor: pointer;
	line-height: 1.7;
	margin: 0;
	padding: 0;
	text-align: left;
}

button.pmpro_report_th:before {
	bottom: 2px;
	display: inline-block;
	font: 400 20px/1 dashicons;
	left: 0;
	padding: 0;
	position: relative;
	text-decoration: none;
	vertical-align: bottom;
}

button.pmpro_report_th_opened:before {
	content: "\f140";
}

button.pmpro_report_th_closed:before {
	content: "\f139";
}

.pmpro_report-holder .wp-list-table tbody tr.pmpro_report_tr_sub:last-child th,
.pmpro_report-holder .wp-list-table tbody tr.pmpro_report_tr_sub:last-child td {
	border-bottom: 1px solid var(--pmpro--border--color);
}

#pmpro_report_memberships .wp-list-table tbody:nth-child(odd) th,
#pmpro_report_memberships .wp-list-table tbody:nth-child(odd) td,
#pmpro_report_sales .wp-list-table tbody:nth-child(odd) th,
#pmpro_report_sales .wp-list-table tbody:nth-child(odd) td {
	background-color: #fff;
}

#pmpro_report_memberships .wp-list-table tbody:nth-child(even) th,
#pmpro_report_memberships .wp-list-table tbody:nth-child(even) td,
#pmpro_report_sales .wp-list-table tbody:nth-child(even) th,
#pmpro_report_sales .wp-list-table tbody:nth-child(even) td {
	background-color: var(--pmpro--color--blue-lightest);
}

.pmpro_admin .pmpro_report-button {
	margin: 0;
	text-align: center;
}

.pmpro_table_area tfoot th {
	font-weight: 700;
}

/* --- Sales report: two-column layout (filters left, chart right) --- */
/* Scope to PMPro reports page only to avoid affecting other admin forms */
@media screen and (min-width: 768px) {
	.pmpro_admin-pmpro-reports #posts-filter {
		display: flex;
		align-items: flex-start;
		gap: var(--pmpro--spacing--medium);
	}

	.pmpro_admin-pmpro-reports #posts-filter .pmpro_report-filters {
		/* Left panel: fixed-ish width, does not grow */
		flex: 0 0 220px;
	}

	.pmpro_admin-pmpro-reports #posts-filter .pmpro_chart_area {
		/* Right panel: takes remaining space */
		flex: 1 1 auto;
		margin-top: 0; /* align tops when in row layout */
	}
}